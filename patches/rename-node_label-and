Bottom: 920879c3656fe815944263fd1715d52532306728
Top:    e7a0a83f215a9054d2f686dce4f8c9c6790dd8d4
Author: Peter Clifton <peter@clifton-electronics.co.uk>
Date:   2016-02-03 16:46:26 +0000

Rename NODE_LABEL and LABEL_NODE to reflect that they operate on edges


---

diff --git a/src/polygon1.c b/src/polygon1.c
index b89c472..37c25f8 100644
--- a/src/polygon1.c
+++ b/src/polygon1.c
@@ -86,8 +86,8 @@ int vect_inters2 (Vector A, Vector B, Vector C, Vector D, Vector S1,
 
 #define TOUCHES 99
 
-#define NODE_LABEL(n)  ((n)->Flags.status)
-#define LABEL_NODE(n,l) ((n)->Flags.status = (l))
+#define EDGE_LABEL(e)  ((e)->Flags.status)
+#define LABEL_EDGE(e,l) ((e)->Flags.status = (l))
 
 #define error(code)  longjmp(*(e), code)
 
@@ -453,8 +453,8 @@ node_label (VNODE * pn)
 	}
     }
   assert (region != UNKNWN);
-  assert (NODE_LABEL (pn) == UNKNWN || NODE_LABEL (pn) == region);
-  LABEL_NODE (pn, region);
+  assert (EDGE_LABEL (pn) == UNKNWN || EDGE_LABEL (pn) == region);
+  LABEL_EDGE (pn, region);
   if (region == SHARED || region == SHARED2)
     return UNKNWN;
   return region;
@@ -1036,7 +1036,7 @@ cntr_in_M_POLYAREA (PLINE * poly, POLYAREA * outfst, BOOLp test)
 #ifdef DEBUG
 
 static char *
-theState (VNODE * v)
+theState (VNODE * e)
 {
   static char u[] = "UNKNOWN";
   static char i[] = "INSIDE";
@@ -1044,7 +1044,7 @@ theState (VNODE * v)
   static char s[] = "SHARED";
   static char s2[] = "SHARED2";
 
-  switch (NODE_LABEL (v))
+  switch (EDGE_LABEL (e))
     {
     case INSIDE:
       return i;
@@ -1104,7 +1104,7 @@ label_contour (PLINE * a)
 
       /* This labels nodes which aren't cross-connected */
       assert (label == INSIDE || label == OUTSIDE);
-      LABEL_NODE (cur, label);
+      LABEL_EDGE (cur, label);
     }
   while ((cur = cur->next) != first_labelled);
 #ifdef DEBUG_ALL_LABELS
