Bottom: 9c7a11a9132ef74f773a939f515e62f754c3f76a
Top:    81f9275bfc6d3f5f91b02ad556b13abafca72b83
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   2015-01-04 18:51:25 +0000

Win32: Disable the SpaceNavigator code


---

diff --git a/src/hid/gtk/gui-output-events.c b/src/hid/gtk/gui-output-events.c
index 146ff10..5977ccf 100644
--- a/src/hid/gtk/gui-output-events.c
+++ b/src/hid/gtk/gui-output-events.c
@@ -554,8 +554,8 @@ ghid_port_window_enter_cb (GtkWidget * widget,
       /* Make sure drawing area has keyboard focus when we are in it.
        */
       gtk_widget_grab_focus (out->drawing_area);
-      if (ghidgui->snavi != NULL)
-        snavi_set_led (ghidgui->snavi, TRUE);
+      //if (ghidgui->snavi != NULL)
+      //  snavi_set_led (ghidgui->snavi, TRUE);
     }
   ghidgui->in_popup = FALSE;
 
@@ -588,8 +588,8 @@ ghid_port_window_leave_cb (GtkWidget * widget,
       return FALSE;
     }
 
-  if (out->has_entered && !ghidgui->in_popup && ghidgui->snavi != NULL)
-    snavi_set_led (ghidgui->snavi, FALSE);
+  //if (out->has_entered && !ghidgui->in_popup && ghidgui->snavi != NULL)
+  //  snavi_set_led (ghidgui->snavi, FALSE);
 
   out->has_entered = FALSE;
 
diff --git a/src/hid/gtk/snavi.c b/src/hid/gtk/snavi.c
index 2f58f02..d5c5850 100644
--- a/src/hid/gtk/snavi.c
+++ b/src/hid/gtk/snavi.c
@@ -12,6 +12,7 @@
  *
  */
 
+#if 0
 #include <stdio.h>
 #include <errno.h>
 #include <stdlib.h>
@@ -21,9 +22,11 @@
 
 #include <linux/types.h>
 #include <linux/input.h>
+#endif
 
 #include <glib.h>
 
+#if 0
 #define test_bit(bit, array)  (array [bit / 8] & (1 << (bit % 8)))
 
 static void (*update_pan_cb)(int, int, int, gpointer);
@@ -150,6 +153,7 @@ gboolean snavi_event (GIOChannel   *source,
 
   return TRUE;
 }
+#endif
 
 
 GIOChannel *
@@ -159,6 +163,9 @@ setup_snavi (void (*update_pan)(int, int, int, gpointer),
              void (*button)(int, int, gpointer),
              gpointer data)
 {
+  return NULL;
+
+#if 0
   GIOChannel *snavi;
 
   update_pan_cb = update_pan;
@@ -186,4 +193,5 @@ setup_snavi (void (*update_pan)(int, int, int, gpointer),
     }
 
   return snavi;
+#endif
 }
